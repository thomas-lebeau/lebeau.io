"use strict";angular.module("portfolioApp",["ngRoute","ngAnimate","ngResource","angulartics","angulartics.google.analytics","angulartics.scroll"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/portfolio-list.html",controller:"PortfolioListCtrl"}).when("/portfolio/:project",{templateUrl:"views/portfolio-detail.html",controller:"PortfolioDetailCtrl"}).otherwise({redirectTo:"/"}),b.hashPrefix("!")}]),angular.module("portfolioApp").value("$anchorScroll",angular.noop),angular.module("portfolioApp").service("Projects",function(){var a=[{name:"Emka Yapi",slug:"emkayapi",image:{filename:"emkayapi",ext:"png"},categories:["design","development","wordpress"],detail:"",date:"2013-09-12",url:"http://emkayapi.com.tr"},{name:"Newage Clinic",slug:"newageclinic",image:{filename:"newage",ext:"jpg"},categories:["wordpress integration"],url:"http://newage-clinic.com"},{name:"Atasan",slug:"atasan",image:{filename:"atasan",ext:"jpg"},categories:["design"],url:"http://atasan.com"},{name:"Code Bounty",slug:"codebounty",image:{filename:"codebounty",ext:"jpg"},categories:["development"],url:"http://codebounty.co"},{name:"Usta Evinizde",slug:"ustaevinizde",image:{filename:"ustaevinizde",ext:"png"},categories:["design","development"],detail:"A home service company who needed a slick website to promote their service",date:"2011-12-20",url:"http://ustaevinizde.com"},{name:"Carnaist Travel",slug:"carnaist",image:{filename:"carnaist",ext:"png"},categories:["design","development"],url:"http://carnaist.com"},{name:"Mete Aksu Clinic",slug:"meteaksu",image:{filename:"meteaksu",ext:"jpg"},categories:["wordpress integration"],url:"http://meteaksu.com"},{name:"Farklı İnşaat",slug:"farkliinsaat",image:{filename:"farkliinsaat",ext:"jpg"},categories:["design","development","admin panel"],url:"http://farkliinsaat.com"},{name:"Hatice Atik",slug:"haticeatik",image:{filename:"haticeatik",ext:"jpg"},categories:["design","development","logo"],url:"http://haticeatik.com"},{name:"Tiyatrol",slug:"tiyatrol",image:{filename:"tiyatrol",ext:"jpg"},categories:["wordpress integration"],url:"http://tiyatrol.net"},{name:"Meriç Aile Pansiyon",slug:"eceabatpansiyon",image:{filename:"eceabatpansiyon",ext:"jpg"},categories:["wordpress integration"],url:"http://eceabatpansiyon.net"},{name:"Renee Clinic",slug:"renee",image:{filename:"renee",ext:"jpg"},categories:["wordpress integration"],url:"http://reneeklinik.com"},{name:"Günder Tekstil",slug:"gundertekstil",image:{filename:"gunder",ext:"jpg"},categories:["design","development","admin panel"],url:"http://gundertekstil.com.tr"},{name:"Aleni Reklam",slug:"alenireklam",image:{filename:"alenireklam",ext:"png"},categories:["development"],url:"http://alenireklam.com"},{name:"Ergi Yapı",slug:"ergiyapi",image:{filename:"ergiyapi",ext:"jpg"},categories:["design","development"],url:"http://ergiyapi.com"}];this.getProjects=function(){return a}}),angular.module("portfolioApp").service("Animation",function(){var a="";this.getAnimation=function(){return a},this.setAnimation=function(b){a=b}}),angular.module("portfolioApp").service("Testimonials",function(){var a=[{name:"John Doe",company:"Company Name",companyLink:"http://google.com",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sed, ipsa natus temporibus culpa provident mollitia assumenda possimus quidem cumque deserunt distinctio aspernatur impedit illum consectetur adipisci animi quisquam accusantium consequatur?"},{name:"Steve Jobs",company:"Elmas Inc.",companyLink:"http://google.com",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sed, ipsa natus temporibus culpa provident."}];this.getTestimonials=function(){return a}}),angular.module("portfolioApp").factory("twitterUtilities",["$sce",function(a){function b(a){return Date.parse(a.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function c(a){var b=arguments.length>1?arguments[1]:new Date,c=parseInt((b.getTime()-a)/1e3,10),d="";return d=1>c?"just now":60>c?c+" seconds ago":120>c?"about a minute ago":2700>c?"about "+parseInt(c/60,10).toString()+" minutes ago":7200>c?"about an hour ago":86400>c?"about "+parseInt(c/3600,10).toString()+" hours ago":172800>c?"about a day ago":"about "+parseInt(c/86400,10).toString()+" days ago"}function d(a,b,c){return c.replace(a,b)}function e(a,b){return b?"user"in a?a.user.profile_image_url_https:e(a,!1).replace(/^http:\/\/[a-z0-9]{1,3}\.twimg\.com\//,"https://s3.amazonaws.com/twitter_production/"):a.profile_image_url||a.user.profile_image_url}function f(a){return a.replace(/</g,"&lt;").replace(/>/g,"^&gt;")}function g(a){return d(/(^|[\W])@(\w+)/gi,'$1<span class="at">@</span><a href="http://"+options.twitter_url+"/$2">$2</a>',a)}function h(a){return d(/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,' <a href="https://twitter.com/search?q=%23$1'+(j.username&&1===j.username.length&&!j.list?"&from="+j.username.join("%2BOR%2B"):"")+'" class="tweet_hashtag">#$1</a>',a)}function i(a,b){return a.replace(k,function(a){for(var c=/^[a-z]+:/i.test(a)?a:"http://"+a,d=a,e=0;e<b.length;++e){var g=b[e];if(g.url===c&&g.expanded_url){c=g.expanded_url,d=g.display_url;break}}return'<a href="'+f(c)+'">'+f(d)+"</a>"})}var j={avatar_size:null,twitter_url:"twitter.com",username:null,list:null},k=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi;return{clean:function(d){var f={};return f.item=d,f.source=d.source,f.name=d.from_user_name||d.user.name,f.screen_name=d.from_user||d.user.screen_name,f.avatar_size=j.avatar_size,f.avatar_url=e(d,"https:"===document.location.protocol),f.retweet="undefined"!=typeof d.retweeted_status,f.tweet_time=b(d.created_at),f.tweet_id=d.id_str,f.twitter_base="http://"+j.twitter_url+"/",f.user_url=f.twitter_base+f.screen_name,f.tweet_url=f.user_url+"/status/"+f.tweet_id,f.reply_url=f.twitter_base+"intent/tweet?in_reply_to="+f.tweet_id,f.retweet_url=f.twitter_base+"intent/retweet?tweet_id="+f.tweet_id,f.favorite_url=f.twitter_base+"intent/favorite?tweet_id="+f.tweet_id,f.retweeted_screen_name=f.retweet&&d.retweeted_status.user.screen_name,f.retweeted_user_url=f.retweet&&f.twitter_base+f.retweeted_screen_name,f.tweet_relative_time=c(f.tweet_time),f.entities=d.entities?(d.entities.urls||[]).concat(d.entities.media||[]):[],f.tweet_raw_text=f.retweet?"RT @"+f.retweeted_screen_name+" "+d.retweeted_status.text:d.text,f.tweet_text=a.trustAsHtml(h(g(i(f.tweet_raw_text,f.entities)))),f}}}]),angular.module("portfolioApp").directive("errSrc",function(){return{link:function(a,b,c){b.bind("error",function(){b.attr("src",c.errSrc)})}}}),angular.module("portfolioApp").directive("ngScroll",function(){return{link:function(a,b){angular.element(b).perfectScrollbar()}}}),angular.module("portfolioApp").controller("PortfolioListCtrl",["$scope","Projects","Animation",function(a,b,c){a.projects=b.getProjects(),a.animation=c.getAnimation(),a.animate=function(b){a.animation=b+"-animation",c.setAnimation(a.animation)}}]),angular.module("portfolioApp").controller("PortfolioDetailCtrl",["$scope","$routeParams","$location","Projects","Animation",function(a,b,c,d,e){var f=d.getProjects();a.animation=e.getAnimation();var g=b.project,h=jQuery.grep(f,function(a){return a.slug===g});0===h.length&&c.path("/"),h=h[0],a.project=h;var i=jQuery.inArray(h,f);a.project.prev=0===i?f[f.length-1].slug:f[i-1].slug,a.project.next=i===f.length-1?f[0].slug:f[i+1].slug,a.animate=function(b){a.animation=b+"-animation",e.setAnimation(a.animation)}}]),angular.module("portfolioApp").controller("TestimonialCtrl",["$scope","$timeout","$http","Testimonials",function(a,b,c,d){var e,f=12e3,g=0;a.testimonials=[];var h=d.getTestimonials();a.testimonials.push(h[g]),h.length>1&&(a.swapTestimonial=function(){e=b(function(){g<h.length-1?g++:g=0,a.testimonials.shift(),a.testimonials.push(h[g]),a.swapTestimonial()},f)},a.swapTestimonial())}]),angular.module("portfolioApp").controller("TwitterCtrl",["$scope","$http","$timeout","twitterUtilities",function(a,b,c,d){a.tweets=[],a.loaded=!1;var e=[],f="twitter/",g={request:{host:"api.twitter.com",url:"/1.1/statuses/user_timeline.json",parameters:{include_entities:1,screen_name:["tomalebeau"],page:1,count:5,include_rts:1}}};b({method:"POST",url:f,data:jQuery.param(g),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b){""!==b.message&&console.warn(b.message),angular.forEach(b.response,function(a){e.push(d.clean(a))});var f,g=12e3,h=0;a.tweets.push(e[h]),a.loaded=!0,e.length>1&&(a.swapTweet=function(){f=c(function(){h<e.length-1?h++:h=0,a.tweets.shift(),a.tweets.push(e[h]),a.swapTweet()},g)},a.swapTweet())})}]),angular.module("portfolioApp").controller("ContactCtrl",["$scope","$http","$sce","$analytics",function(a,b,c,d){a.email={},a.validation={},a.sendButton={status:"enabled",text:c.trustAsHtml('<i class="fa fa-envelope-o"></i> Send')};var e="scripts/php/mail.php";a.sendEmail=function(){d.eventTrack("SendTotal",{category:"contactForm"}),a.sendButton.text=c.trustAsHtml('<i class="fa fa-spinner fa-spin"></i> Sending'),a.contactForm.$valid&&a.contactForm.$dirty?b({method:"POST",url:e,data:jQuery.param(a.email),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b){"ok"===b.status?(a.sendButton.text=c.trustAsHtml('<i class="fa fa-check success"></i> thank you!'),a.sendButton.status="disabled",a.email={},d.eventTrack("SendSuccess",{category:"contactForm"})):(a.sendButton.text=c.trustAsHtml('<i class="fa fa-times error"></i> Oops, something\'s wrong!'),d.eventTrack("SendErrorDataEmpty",{category:"contactForm"}))}).error(function(){a.sendButton.text=c.trustAsHtml('<i class="fa fa-times error"></i> Oops, something\'s wrong!'),d.eventTrack("SendErrorXHR",{category:"contactForm"})}):(a.sendButton.text=c.trustAsHtml('<i class="fa fa-times error"></i> Oops, something\'s wrong!'),d.eventTrack("SendErrorFormInvalid",{category:"contactForm"}))}}]);